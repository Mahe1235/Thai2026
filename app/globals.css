@import "tailwindcss";

@plugin "tailwindcss-animate";

@custom-variant dark (&:is(.dark *));

/* ────────────────────────────────────────────────
   Apple HIG–inspired dark mode design tokens
   Always-dark — no .dark class needed
   ──────────────────────────────────────────────── */
:root {
  --radius: 0.625rem;            /* 10px — iOS grouped card radius */

  /* Surface hierarchy (iOS dark mode) */
  --background:           #000000;   /* systemBackground */
  --foreground:           #FFFFFF;   /* label */
  --card:                 #1C1C1E;   /* secondarySystemBackground */
  --card-foreground:      #FFFFFF;
  --popover:              #2C2C2E;   /* tertiarySystemBackground */
  --popover-foreground:   #FFFFFF;

  /* Brand accent — warm amber */
  --primary:              #F59E0B;
  --primary-foreground:   #000000;

  /* Secondary / muted surfaces */
  --secondary:            #2C2C2E;   /* tertiarySystemBackground */
  --secondary-foreground: #FFFFFF;
  --muted:                #2C2C2E;
  --muted-foreground:     #8E8E93;   /* secondaryLabel */

  /* Hover accent surface */
  --accent:               #3A3A3C;   /* systemGray3 */
  --accent-foreground:    #FFFFFF;

  /* Destructive */
  --destructive:          #FF453A;   /* systemRed */
  --destructive-foreground: #FFFFFF;

  /* Structure */
  --border:               #38383A;   /* separator */
  --input:                #3A3A3C;
  --ring:                 #F59E0B;

  /* Data-vis palette */
  --chart-1:  #F59E0B;
  --chart-2:  #2DD4BF;
  --chart-3:  #FF453A;
  --chart-4:  #7C83FD;
  --chart-5:  #FF7EB3;
}

/* ── Tailwind v4 token mapping ── */
@theme inline {
  /* Fonts */
  --font-sans: var(--font-inter), system-ui, -apple-system, sans-serif;
  --font-mono: var(--font-dm-mono), 'DM Mono', system-ui, ui-monospace, monospace;

  /* shadcn → Tailwind utilities */
  --color-background:           var(--background);
  --color-foreground:           var(--foreground);
  --color-card:                 var(--card);
  --color-card-foreground:      var(--card-foreground);
  --color-popover:              var(--popover);
  --color-popover-foreground:   var(--popover-foreground);
  --color-primary:              var(--primary);
  --color-primary-foreground:   var(--primary-foreground);
  --color-secondary:            var(--secondary);
  --color-secondary-foreground: var(--secondary-foreground);
  --color-muted:                var(--muted);
  --color-muted-foreground:     var(--muted-foreground);
  --color-accent:               var(--accent);
  --color-accent-foreground:    var(--accent-foreground);
  --color-destructive:          var(--destructive);
  --color-border:               var(--border);
  --color-input:                var(--input);
  --color-ring:                 var(--ring);

  --radius-sm:  calc(var(--radius) - 4px);
  --radius-md:  calc(var(--radius) - 2px);
  --radius-lg:  var(--radius);
  --radius-xl:  calc(var(--radius) + 4px);
  --radius-2xl: calc(var(--radius) + 8px);
}

/* ── App-specific aliases ── */
@theme {
  --color-bg:       var(--background);
  --color-surface:  var(--card);
  --color-surface2: var(--secondary);
  --color-gold:     var(--primary);
  --color-gold2:    #D97706;
  --color-teal:     #2DD4BF;
  --color-red:      var(--destructive);
  --color-text:     var(--foreground);
}

/* ── Keyframes ── */
@keyframes fadeUp {
  from { opacity: 0; transform: translateY(8px); }
  to   { opacity: 1; transform: translateY(0); }
}
@keyframes shimmer {
  from { background-position: -200% 0; }
  to   { background-position:  200% 0; }
}

/* ── Base ── */
*, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

html {
  scroll-behavior: smooth;
  -webkit-text-size-adjust: 100%;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  height: 100%;
}

body {
  background-color: var(--background);
  color: var(--foreground);
  min-height: 100dvh;
  -webkit-tap-highlight-color: transparent;
  overscroll-behavior-y: none;
  font-feature-settings: 'cv11', 'ss01';
  font-size: 15px;                          /* iOS body default */
  line-height: 1.47;                        /* iOS body line-height */
}

/* ── Scrollbar ── */
::-webkit-scrollbar { width: 3px; height: 3px; }
::-webkit-scrollbar-track { background: transparent; }
::-webkit-scrollbar-thumb { background: #48484A; border-radius: 99px; }

/* ── Touch ── */
button, a, [role="button"] { touch-action: manipulation; }

/* ── Skeleton ── */
.skeleton {
  background: linear-gradient(90deg, var(--secondary) 25%, var(--border) 50%, var(--secondary) 75%);
  background-size: 200% 100%;
  animation: shimmer 1.5s ease-in-out infinite;
  border-radius: 8px;
}

/* ── Tabular numbers ── */
.tnum {
  font-variant-numeric: tabular-nums;
  font-feature-settings: "tnum";
}

/* ── Hide scrollbar ── */
.no-scrollbar::-webkit-scrollbar { display: none; }
.no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
